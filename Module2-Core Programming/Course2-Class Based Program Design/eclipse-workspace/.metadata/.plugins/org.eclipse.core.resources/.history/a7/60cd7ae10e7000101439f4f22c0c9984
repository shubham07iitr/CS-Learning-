import tester.*;

//==================================================================
//CLASS PERSON
//represents a Person with a user name and a list of buddies
class Person {

 String username;
 ILoBuddy buddies;
 //CONSTRUCTOR
 Person(String username) {this.username = username;this.buddies = new MTLoBuddy();}
 //METHODS
 
 //METHOD HASDIRECTBUDDY
 // returns true if this Person has that as a direct buddy
 boolean hasDirectBuddy(Person that) {return true;}

 //METHOD PARTYCOUNT
 // returns the number of people who will show up at the party given by this person
 int partyCount(){return 1;}

 //METHOD COUNTCOMMONBUDDIES
 // returns the number of people that are direct buddies of both this and that person
 int countCommonBuddies(Person that) {return 1;}


  //METHOD HASEXTENDEDBUDDY
 // will the given person be invited to a party organized by this person?
 boolean hasExtendedBuddy(Person that) {return true;}
 
 //METHOD ADDBUDDY
 // will the given person be invited to a party 
 // organized by this person?
 void addBuddy(Person that) {this.buddies =  this.buddies.addToList(that);} //Changes in Place for both the people, 
}
 
//==================================================================
//INTERFACE BUDDIES
//represents a list of person's buddies
interface ILoBuddy{
	ILoBuddy addToList(Person arg); //adds a person at the end of a list
	Person getFirst(); //gets the first element 
	ILoBuddy getRest(); //gets the last element of a list
	boolean isEmpty(); // checks if the given list is empty or not
}


//CLASS MTLoBUDDY
//Represents an empty list of person's buddies

class MTLoBuddy implements ILoBuddy {
	MTLoBuddy() {}
	//METHODS
	public Person getFirst() {throw new RuntimeException ("Cannot access First of an empty list");}
	public ILoBuddy getRest() {throw new RuntimeException ("Cannot access Rest of an empty list");}
	public ILoBuddy addToList(Person arg) {return new ConsLoBuddy(arg, this);}
	public boolean isEmpty() {return true;}
}

//CLASS CONSLOBUDDY
// represents a list of Person's buddies
class ConsLoBuddy implements ILoBuddy {
    Person first;
    ILoBuddy rest;
    //Defining the constructor
    ConsLoBuddy(Person first, ILoBuddy rest) {this.first = first; this.rest = rest;}
    
    //METHODS
    //AddToList Method
    public ILoBuddy addToList(Person arg) {
    	if (this.getRest().isEmpty()) {return new ConsLoBuddy(this.first, new ConsLoBuddy (arg, this.getRest())); }
    	else {return new ConsLoBuddy(this.first, this.rest.addToList(arg));}
    }
    public Person getFirst () {return this.first;}
    public ILoBuddy getRest () {return this.rest;}
    public boolean isEmpty() {return false;}
    	
}

//==================================================================
class ExamplesBuddies {
	ExamplesBuddies() {}
	
	
	Person ann; 
	Person bob; 
	Person cole;
	Person dan;
	Person ed ;
	Person fay ;
	Person gabi ;
	Person hank ;
	Person jan ;
	Person kim ;
	Person len ;

	void initConditions() {
		ann = new Person ("Ann");
		bob = new Person("Bob");
		cole = new Person("Cole");
		dan = new Person("Dan");
		ed = new Person("Ed");
		fay = new Person("Fay");
		gabi = new Person ("Gabi");
		hank = new Person ("Hank");
		jan = new Person ("Jan");
		kim = new Person ("Kim");
		len = new Person ("Len");
		ann.addBuddy(bob); ann.addBuddy(cole); //Adding buddies for Ann
		bob.addBuddy(ann); bob.addBuddy(ed); bob.addBuddy(hank); //Adding buddies for bob
		cole.addBuddy(dan); //Adding buddy for cole
		ed.addBuddy(fay); //adding buddy for ed 
		fay.addBuddy(ed); fay.addBuddy(gabi);
		jan.addBuddy(kim); jan.addBuddy(len);
		kim.addBuddy(jan); kim.addBuddy(len);
		len.addBuddy(jan); len.addBuddy(kim);
		}
	
	void testIniConditions (Tester t) {
		this.initConditions();
		t.checkExpect(len.buddies, new ConsLoBuddy(len, new ConsLoBuddy(kim, new MTLoBuddy())));
		t.checkExpect(fay.buddies, new ConsLoBuddy(ed, new ConsLoBuddy(gabi, new MTLoBuddy())));
		t.checkExpect(hank.buddies, new MTLoBuddy());
	}
	









}























